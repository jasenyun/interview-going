一条 SQL 语句入手 MySQL 优化工作

## SQL 的优化

在电商平台的商品中心系统中，若需要获取处于某状态的所有商品，并且根据创建时间排序，那针对下面 SQL 语句 如何优化？

```sql
select * from order where status = 0 order by create_at desc
```

可优化的点：

- select 具体有用的字段，而不是使用 `*`

- 增加 status 和 create_at 的组合索引。
  
  如果只对 status 建立索引，那么在查询时只能用到 status 的索引，但对 create_at 排序的话就会用到文件排序 file_sort。使用 explain 可以看到 Extra 列值是 Using filesort。
  
  ```sql
  explain select * from order where status = 0 order by create_at desc
  ```

        所以避免发生 filesort ，利用索引有序性，建立组合索引是最优方案。

为什么创建了索引就可以让查询数据变快呢？

## 索引是什么

索引是一种数据结构，官方定义：索引是存储引擎用于快速查找记录的一种数据结构。在 MySQL 数据库中，索引类型是 B+Tree 索引。


